<div id="auth_groups">
    <form class="auth-form" action="{:U('addToGroup')}" method="post" enctype="application/x-www-form-urlencoded" >
        <volist name="auth_groups" id="vo">
            <label class="checkbox controls">
                <input class="auth_groups" type="checkbox" name="group_id[]" value="{$vo.id}">{$vo.title}
            </label>
        </volist>
        <input type="hidden" name="uid" value="{:I('uid')}">
        <input type="hidden" name="batch" value="true">
        <div style="text-align: right; margin-top: 10px;">
            <input class="btn" type="submit" value="保存">
        </div>
    </form>
</div>

<script type="text/javascript">
    $(function(){
        var group = [{$user_groups}];
        $('.auth_groups').each(function(){
            if( $.inArray( parseInt(this.value,10),group )>-1 ){
                $(this).prop('checked',true);
            }
        });
    })
</script>
