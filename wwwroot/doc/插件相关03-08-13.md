#插件的用途

对cms数据的处理、对模板中扩展一些显示内容

#插件的类型

widget、controller

#插件相关文件
ps：/指的是 wwwroot目录

/Application/Module/Cms/Addons/插件名  - 插件目录，和一般项目一样除了没有配置目录
/Application/Module/Cms/Controller/AddonsController.class.php - 插件基类
/Application/Module/Cms/Addons/插件名/Controller/插件名Controller.class.php  - 控制器必须有的插件定义文件
/Application/Module/Cms/Addons/插件名/Widget/插件名Widget.class.php  - widget插件必须有的插件定义文件

相应模板和widget中 定义好钩子

/Application/Module/Cms/Conf/config.php 配置里有关插件的配置
#目前的现状
完成了附件插件、评论插件的未提交
插件的管理没有，相关配置写文件了。
插件支持数据的引用，参数只能一个。

#插件的使用
定义好插件的配置、相关代码里定义好钩子、

		/* 默认插件定义 */
    'ADDONS_HOOKS_WIDGET' => array(
        'page_header'            => array('Attachment'),
        'document_edit_form'     => array('Attachment'),
        'document_detail_before' => array(),
        'document_detail_after'  => array('Attachment'),
        'page_footer'            => array('Attachment'),
    ),
    'ADDONS_HOOKS_CONTROLLER' => array(
        'document_save_complete' => array('Attachment'),
    ),


插件类必须继承AddonsController 实现定义好的钩子里的方法

#插件的优化
插件的定义、管理由数据库去管，插件可以安装、卸载、停启用

#待开发的插件
评论、编辑器

#一些疑问
我们的插件的配置是否需要做到针对某些数据、表的配置还是只支持统一配置，
针对某些数据、表如分类里的下载设置是否要在可扩展的数据表里 提供可操作的修改配置
即 是否需要提供总开关和分开关和总配置和分配置的实现。



id name title desc widget controller status config

#第一期
钩子管理
插件启用禁用
插件配置管理
扩展配置的存取

把附件走通，（上传下载）
编辑器插件