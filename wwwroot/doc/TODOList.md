正式版发布前工作概要
======================

国庆节前工作安排
----------------

+ 安装程序
    - 保留默认系统用户组,默认勾选首页访问权限和默认分类权限
    - 例如可以选择创建数据库 安装示例数据等,数据库地址采用下拉列表(127.0.0.1(默认),localhost,自定义三个选项)）
+ 检测新版本
    - 只需要具备检测和提示功能
    - 先放在系统里面,权限配置到系统控制器的allow属性,api放到onethink.php/new_version.php,返回版本号和更新日志.
+ 29号更新发布版本
    - 字符串版本号: v1.0 beta(build 130929)
    - 整型版本号(用于执行版本比较):2013929
+ 文件上传的后台设置,文件上传安全漏洞修复
    - 上传类型,大小
+ 分类添加文档是否需要审核的设置(花杰)
+ 文档列表改进(已完成)
    - 见最后
+ onethink.cn创建一篇更新日志文档,以后更新新版本时在该文档列出更新记录
    - 更新记录包括从上次发布到新发布之间所有重要的改进和变更


新增功能
---------

+ 系统日志
+ 行为日志
+ 行为统计
+ 分类的移动和合并
    - 分类移动合并属于危险操作,操作前应提示操作者备份分类和文档数据;建议该功能进允许超级管理员使用
+ 检测新版本和自动升级
    - 检测新版本高优先级,自动升级功能可根据实际情况考虑推后至v2
+ 数据备份和还原
    - 只做最基本的备份和还原,更完整的备份/还原/优化工具放到v2的工具箱
+ 新建/编辑用户/搜索用户
+ 模型数据的单独管理
    - 不需要绑定分类 很多业务系统是不需要绑定分类的
+ 可能的一些合作接口开发
    - 云存储
+ 多语言支持
+ 标签支持

需改进
----------

+ 导航管理支持层级
+ 后台文章发布的图片上传支持缩略功能（不同的分类可配置缩略规格）
+ 文档的全局搜索功能
    - 全局和可多选分类的搜索及全文搜索,搜索时可勾选是否搜索子文档,可选择搜索的文档模型类型
+ SAE的支持完善
+ 静态规则

规范及API
------
底层接口API规范和开发
钩子的位置规范和确定
梳理架构和底层方法，尽可能减少正式版发布之后的调整和修改对开发者二次开发的内容的影响

文档列表改进
------------

文档列表目前只列出基础模型中的数据，扩展模型数据(例如子文档数量)是在列表中用函数查询出的，
也就是每一行数据都会额外查一次数据库．如果要列多个扩展模型中的字段，额外的查询次数又会成倍增加．
如果开发者的文档列表定制性要求更高，需要完全重写index方法和模板．

建议改进成以下方式：

index方法只判断分类，
    - 如果分类绑定了已有模型，则进入这个模型对应的列表方法(例如：indexOfArticle() )；
    - 如果绑定的是虚拟模型，则进入这个虚拟模型的列表方法( myDocModel() )
    - 如果没有绑定任何模型，则进入默认列表方法．
    - 开发者需要定制列表时，只需要增加一个自定义的列表方法和模板,不涉及对onethink源码的修改．

